{"componentChunkName":"component---src-templates-post-jsx","path":"/proxy/","result":{"data":{"site":{"siteMetadata":{"title":"wookey-devlog"}},"markdownRemark":{"id":"cd427022-3331-5f4a-8322-79f6180f37c0","excerpt":"proxy  프록시(proxy)는 , 의 의미를 가지고 있다. 일상에 비유해보자. 전세집 부동산 계약을 하기위해 부동산 공인중개사를 필요로 하는 상황을 가정해보자. 이는 집주인과 나 사이에 부동산 공인중개사가  역할로 부동산 거래를 도맡는 것이다.\n나는 집주인과 직접 연락하지 않고 전세집 거래를 진행할 수 있으며, 더욱 안전하게 업무를 진행할 수 있다. …","html":"<h2>proxy</h2>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/b4ad3/proxy-01.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbElEQVR42n2RSy9DURSF9y1lICSGTSMGRuIPiAEG0hsjiXeVaqSt6tVGE0REPCLBoNEBwQhppMpNFfFoGyquYsIvkOikP6PJsk8vE26c5CQn56z17bX3IWpbKiex5C2FuqKg7miRhlTQ6CXImwb573k/gCay+lnciTehEVrhEV6xSqwfYOeOQj0xUP9xkUaSIPcNA+5gmnpCQ6SA+nAeZaFnkMJgTwrkPNe1wiO8f4F7CvXFQYOnRSE2eW4ZmEH16gcOtU8k3wqoXc+XUprGOaWLU9pZ28se4TUGnrBIZeAZyJeF2baAqg4Fu2oaalpDjS0As7zIUI3bTupa4TEGcmyuJomqjgSscxqCKxG0N9Wh2R9Gy+QmWhut8M1vwDLNbbNGsse/Exq1LOszlAZipRlWcrvug3esHWVgnU3DMpPC8v4VHNuPqPBeg4YTIKEVM5QNgb9+2XkByZVCRegFFMiBgjk+v0Iay/z7y1+Gde7eZ+vg3QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='proxy 01' title='' src='/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/ca1dc/proxy-01.png' srcset='/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/e7570/proxy-01.png 170w,\n/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/f46e7/proxy-01.png 340w,\n/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/ca1dc/proxy-01.png 680w,\n/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/02d09/proxy-01.png 1020w,\n/blog/static/e496054eaa1d96388eca7ede9cf0fcfa/b4ad3/proxy-01.png 1080w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>프록시(proxy)는 <code class=\"language-text\">대리</code>, <code class=\"language-text\">대신</code>의 의미를 가지고 있다. 일상에 비유해보자. 전세집 부동산 계약을 하기위해 부동산 공인중개사를 필요로 하는 상황을 가정해보자. 이는 집주인과 나 사이에 부동산 공인중개사가 <code class=\"language-text\">프록시</code> 역할로 부동산 거래를 도맡는 것이다.\n나는 집주인과 직접 연락하지 않고 전세집 거래를 진행할 수 있으며, 더욱 안전하게 업무를 진행할 수 있다. 또한 집주인에게 궁금한 정보가 있을때 공인중개사가 해당 내용을 안다면, 집주인까지 연락을 가지않고도 빠르게 정보를 얻을 수도 있다. 이 처럼 프록시는 중간자의 역할로 여러가지 기능을 수행할 수 있다. 프록시의 개념이 사용되는곳 마다 조금씩 다를 수 있지만, 중간에서 대리자 역할을 수행하는 것은 동일하다. 이번에는 웹서버의 프록시에 대해 함께 알아보자.</p>\n<h3>proxy server</h3>\n<p>프록시 서버(proxy server)는 브라우저 또는 모바일 기기인 클라이언트와 인터넷과 사이에 둘 수도 있는 <code class=\"language-text\">foward proxy</code>, 인터넷과 웹서버 사이에 둘 수 있는 <code class=\"language-text\">reverse proxy</code>가 있다. 그림과 함께 특징 및 장점에 대해서 알아보자.</p>\n<h3>foward proxy</h3>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/b4ad3/proxy-04.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVR42oWR3UrDQBCFc+Gj+Rx5Bx/BN/BGb8Rn8MIfUKpFkSrxpy0xthpRE6PpagotsWB3d/Y4uw0qSsnAMMPCfHPmrOdxAFioqp+UhLPHdwIMbBhjQGbWu8opuV87vKbdMLXPvp1tVgzvLzAVQwRhn7RSUJymgv0OpTX2g4huU/ENxDxgVkpcJayQtBsO2hGWVzaQ5QJJluO8E/Eijb3ombqDj3rg/WCI406PlJQOuHXQwqK/hF78gO5NjKPWJcievH1Kmydh/cmjKaH/UpAhgtYK43KChJdIawGf+jmV0Eoifi0on6h6hXdijJ0L66F0/rlPYbit2i5RMytWGyGtN9o/CptzgIZVFW+CUBNPWU7F6L+HX2XCkjqTWbAMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='proxy 04' title='' src='/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/ca1dc/proxy-04.png' srcset='/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/e7570/proxy-04.png 170w,\n/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/f46e7/proxy-04.png 340w,\n/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/ca1dc/proxy-04.png 680w,\n/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/02d09/proxy-04.png 1020w,\n/blog/static/3577c166b191b8e51c1a1f9be9f6eab4/b4ad3/proxy-04.png 1080w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>포워드 프록시(foward proxy)는 클라이언트의 요청을 앞에서 대신받아 서버로 요청하는 형태로 동작한다. 이로써 각 클라이언트의 요청은 서버로부터 받게되면 이후 같은 요청에 대해서는 프록시 서버가 기억하고 이를 서버에 닿지 않고 결과를 반환해줄 수 있다. 이는 곧 <code class=\"language-text\">캐시</code>의 역할을 할 수 있는 것이다. 또한 클라이언트는 자신의 IP정보나 OS정보등 http 통신간에 서버로 전달되는 정보를 숨기고싶을 수 있다. 이때 프록시 서버가 클라이언트의 요청을 가로채어 정보를 변환시켜 서버에 요청할 수 있다. 이로써 클라이언트의 정보는 <code class=\"language-text\">익명성</code>의 효과를 얻을 수 있는 것이다.</p>\n<h3>reverse proxy</h3>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/blog/static/05f903241b2c8601b2ae7b2ffe621a75/b4ad3/proxy-03.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVR42n2RzUrDQBSFW3xWn8CVi+7d+ASKYDdCoSuVIogoiCCCKYEuWkPTatqmaVM7mSaTzuTmOBNaqGJzYX7u4n6ce04FQLWiS78HUmVWe75GuBKke+Tm5OYGiAhZRti0sEaMzp57WAhpmdkNo1rZBYo0tR7tHjw/KCa3sP/KHkzo6v4NPEn3A43Cjh8hjGLSkhBFHJ1uXyvL0Gw94aJxDakUlFxjOGP06jHwVJUrbLUdDCdBsfLgc4R64xZSStROz3F4fIJECGQa+OL4VLu8g8/i/UCtxHL9ORaMU64VJokAXyXFit3+F+yuW/zznPC9jMgNV0hliUKllHXT8eCMZ2QiIe2hWXe3tr6+jxkd1R/wESzLgcF0CsYY/Q3BcHYzWvKY7N5QW/A75R+wLMKemoezaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='proxy 03' title='' src='/blog/static/05f903241b2c8601b2ae7b2ffe621a75/ca1dc/proxy-03.png' srcset='/blog/static/05f903241b2c8601b2ae7b2ffe621a75/e7570/proxy-03.png 170w,\n/blog/static/05f903241b2c8601b2ae7b2ffe621a75/f46e7/proxy-03.png 340w,\n/blog/static/05f903241b2c8601b2ae7b2ffe621a75/ca1dc/proxy-03.png 680w,\n/blog/static/05f903241b2c8601b2ae7b2ffe621a75/02d09/proxy-03.png 1020w,\n/blog/static/05f903241b2c8601b2ae7b2ffe621a75/b4ad3/proxy-03.png 1080w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>리버스 프록시(reverse proxy)는 서버로 요청온 정보를 대신 받아 각 서버들에게 전달하는 형태로 동작한다. 동일한 요청에 대해 서버의 부하를 거치지 않고 응답할 수 있는 <code class=\"language-text\">캐시</code>의 역할은 동일하다. 그리고 클라이언트는 각 서버에 요청을 할 때 리버스 프록시에서 지정한 IP주소 및 port로 요청을 하기 때문에 실제 서버의 IP주소 및 기타 정보들이 노출되지 않을 수 있다. 이는 곧 <code class=\"language-text\">보안</code>의 효과를 얻을 수 있는 것이다. 또한 리버스 프록시가 요청의 대리자 역할을 수행함으로써 여유있는 서버에서 정보를 얻어오도록 설계할 수 있다. 이는 곧 <code class=\"language-text\">로드밸런서</code>의 역할을 리버스 프록시에게 위임할 수 있는 것이다. 각 서버 단위에서 L4(OS layer4) 로드밸런싱, <code class=\"language-text\">/product</code>, <code class=\"language-text\">/coupon</code>등 어플리케이션 게이트웨이 역할로 L7(OS layer7) 로드밸런싱을 수행할 수 있는 것이다.</p>\n<h2>결론</h2>\n<p>그 외에도 spring AOP, 프록시 디자인패턴 등 중계자의 역할로 여러 기술이나 개념적으로도 많이 사용된다. 관심 있는 주제들을 찾아서 함께 공부해보면 좋을것 같다.</p>\n<blockquote>\n<p>그래서 프록시라는 단어는 말 그대로 대리자, 중계자의 역할이다. 부동산 공인중개사의 역할을 생각하면 어렵지 않게 이해할 수 있다.</p>\n</blockquote>\n<h2></h2>\n<hr>\n<h3></h3>\n<ul>\n<li><a href=\"https://blog.hidemyass.com/en/what-is-a-web-proxy\">https://blog.hidemyass.com/en/what-is-a-web-proxy</a></li>\n<li><a href=\"https://research.aimultiple.com/forward-vs-reverse-proxy/\">https://research.aimultiple.com/forward-vs-reverse-proxy/</a></li>\n</ul>","frontmatter":{"title":"간단 nginx proxy 정리","date":"September 23, 2023","update":"September 23, 2023","tags":["proxy"],"series":"cs"},"fields":{"slug":"/proxy/","readingTime":{"minutes":4.99}}},"seriesList":{"edges":[{"node":{"id":"fd12c43f-bc04-581f-8e37-6ae38bdf515b","fields":{"slug":"/http-protocol/"},"frontmatter":{"title":"HTTP 프로토콜 진화 과정"}}},{"node":{"id":"af219d10-dc7c-5b02-ad7d-f7f3318376b8","fields":{"slug":"/high-traffic/"},"frontmatter":{"title":"말도 많고 탈도 많은 대용량 트래픽는 대체 어떻게 처리할까?"}}},{"node":{"id":"cd427022-3331-5f4a-8322-79f6180f37c0","fields":{"slug":"/proxy/"},"frontmatter":{"title":"간단 nginx proxy 정리"}}}]},"previous":{"fields":{"slug":"/high-traffic/"},"frontmatter":{"title":"말도 많고 탈도 많은 대용량 트래픽는 대체 어떻게 처리할까?"}},"next":{"fields":{"slug":"/srping-aop/"},"frontmatter":{"title":"spring AOP의 proxy"}}},"pageContext":{"id":"cd427022-3331-5f4a-8322-79f6180f37c0","series":"cs","previousPostId":"af219d10-dc7c-5b02-ad7d-f7f3318376b8","nextPostId":"12484624-47ce-513a-b74f-0e699c275f52"}},"staticQueryHashes":[],"slicesMap":{}}