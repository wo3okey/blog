{"componentChunkName":"component---src-templates-post-jsx","path":"/servelt/","result":{"data":{"site":{"siteMetadata":{"title":"wookey-devlog"}},"markdownRemark":{"id":"0f7d0451-d8d6-57f3-b8ad-ab49d52a1da8","excerpt":"servelt 클라이언트의 HTTP request에 대해 response 처리를 담당하는 java 프로그램이다. 정적인 웹 서버에서 동적인 페이지를 제공할 수 있도록 도와주는 어플리케이션이라 보면 된다. 서블릿은 절대 spring을 위해 만들어진 개념이 아니다. 웹 애플리케이션 개발 시 불필요한 request, reponse 로직을 추상화하고 개발자들이 …","html":"<h2>servelt</h2>\n<p>클라이언트의 HTTP request에 대해 response 처리를 담당하는 java 프로그램이다. 정적인 웹 서버에서 동적인 페이지를 제공할 수 있도록 도와주는 어플리케이션이라 보면 된다. 서블릿은 절대 spring을 위해 만들어진 개념이 아니다. 웹 애플리케이션 개발 시 불필요한 request, reponse 로직을 추상화하고 개발자들이 구현체만 만들어 사용할 수 있도록 제공하는 표준 개발 방식일 뿐이다.</p>\n<h3>servelt container</h3>\n<p>서블릿 컨테이너는 말그대로 서블릿을 담고 관리해주는 컨테이너로, 서블릿의 생명주기를 관리해주는 역할을 한다. 우리가 흔히 아는 <code class=\"language-text\">tomcat</code>이 바로 java 기반의 서블릿 컨테이너이자 WAS이다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/df36b07a3ef79c2261ecbd70dbb9283e/b4ad3/servlet-01.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABRUlEQVR42n2RS0/CQBSFSfx1LvpH3brwFXdY6GumNIBKQ7U0lL6mtEChiJnjbSGGhTjJyWQW8917zukAN1cdOun0QSm9JySTe5lO7tAoG99CfDwi3TKkO4bspITeScUQV0zmXwMkG3bdMFrWL7C2lUKOkO1tmdU2lgcb0dqBFw0xix0EpM/oqHzHsax5c8vy27kArCyloGk87MlRrMEvDbwGHNGKgy166PoqpoUOn8BGoEGdvWAQ9eW84n8D89pS0nqA90yXXm6Axz1w38KMNjI8A6prYBJyuIGD19SAm+vgi74cCxNlfWHDZn2xtaSgjIp9a4lsc4QrC+mG0U1Z0kZ5zSBa20yu/7V8cChoSzahU+Bt8E0Jw1SDGaoUgwlRn0o5FiPFxVJOwISAbatnep52W40TDa4g60LHGw2Zr0zZ/jkD/gAq1bEaHKEmEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='servlet 01' title='' src='/static/df36b07a3ef79c2261ecbd70dbb9283e/ca1dc/servlet-01.png' srcset='/static/df36b07a3ef79c2261ecbd70dbb9283e/e7570/servlet-01.png 170w,\n/static/df36b07a3ef79c2261ecbd70dbb9283e/f46e7/servlet-01.png 340w,\n/static/df36b07a3ef79c2261ecbd70dbb9283e/ca1dc/servlet-01.png 680w,\n/static/df36b07a3ef79c2261ecbd70dbb9283e/02d09/servlet-01.png 1020w,\n/static/df36b07a3ef79c2261ecbd70dbb9283e/b4ad3/servlet-01.png 1080w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>서블릿 컨테이너는 클라이언트의 요청을 받으면 HttpServletRequest, HttpServletResponse 객체를 생성하며 POST, GET 등의 HTTP method에 따라 동적인 페이지를 생성하여 응답한다.\n각 요청에 따라 생성된 서블릿은 <code class=\"language-text\">싱글톤</code> 객체로 관리하며, 최초 요청시 <code class=\"language-text\">init()</code>을 통해 인스턴스를 생성하고 이후 요청에는 재활용한다. 그리고 서버 종료와 같은 종료시 <code class=\"language-text\">destroy()</code>를 통해 인스턴스를 메모리에서 해제한다. 또한 클라이언트 요청마다 새로운 쓰레드를 생성하며, 동시에 여러 요청을 처리할 수 있도록 <code class=\"language-text\">멀티쓰레드</code>를 지원한다. 이는 곧 적절한 쓰레드풀 설정이 필요한 이유이다.</p>\n<h3>front controller</h3>\n<p>서블릿 요청을 각 서블릿이 모든 역할을 처리하면 비즈니스 로직 외 공통적인 처리에 중복적인 개발 요소가 많아진다. 이에 따라 전방에서 각 요청의 역할을 controller에게 위임 해주는 방법을 <code class=\"language-text\">front controller pattern</code>이라고 한다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/5d84c276c621319aafaa2ce642602a06/b4ad3/servlet-03.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVR42n2Ty05TURSG+wBGJ/oCDn0An8GZj+DAONY4IBoxkMiIaMpFwISm5XYGRWhLW6BW2lKKBNpCL9BDL3B67j2nF3qBioTd/G5qkQYTV/JljfaXtf+1t8FA6/zykgGtYr1BgqKMDVlDSNZp17GpaljgOJjSh1ji8wgpNXiFM0yyWcxlstiQFLJXP0W6WGYM17VbLjMH5AI/iipZ0TTYRRE2PgubkIP9OI8vySO8D2cwkRCwrq5iWx/AMBvFCJuDLS8Sb6WOqKrfCJtoMUf6GdyrMTJuTcAYfIb+wD30++9gdPslLLYI5i1GTDm84AqPUNMMiAhv4RZ/ws3zxH9SR6zQJbwEmFLlAsFAipi/ZTC0+Rx9gQfoXbuPsWgPZjxbsDMvML3uQ1x/BbX6EC7OiumcRmMQiI8Kd7uFqZMTJtRsYFNXib9SwkKKx9RaBF93wlhVVJg5Ea/jWbyJH8DKFbAsFjCSymMgkYCDl/4Iu6/8q9VqL0Wp1oiZBm3aFzBrHoXX+ARLuQxmj3iMp1iMsYeY53h6VYWKRNh5Cc5rYfeE1NUWlk5PyeDBPj7upjHnO8aML43hTBpD+yxcggyPpLa7k+Lq0BZWbglbHWG50SBuUcfkngd9jnfoX/6Az2wSE4c5WI95mpfUxtmRXrH0P2GpXiNrhSb6PL143GPA0093sZiN43uhghWZZtfBdWvCf7b8V0gndNIJzUk/BoNGWBIh2OmhuWQKpp0IJQpLNEazk2/IS8RbvvUOr4XVsybxCyKCShlbWpP2EgKyimU2DUcsgcXoHhzxJAKSAj/9UVf4BImEq3WwerEt/A2tAZe2VedpfgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='servlet 03' title='' src='/static/5d84c276c621319aafaa2ce642602a06/ca1dc/servlet-03.png' srcset='/static/5d84c276c621319aafaa2ce642602a06/e7570/servlet-03.png 170w,\n/static/5d84c276c621319aafaa2ce642602a06/f46e7/servlet-03.png 340w,\n/static/5d84c276c621319aafaa2ce642602a06/ca1dc/servlet-03.png 680w,\n/static/5d84c276c621319aafaa2ce642602a06/02d09/servlet-03.png 1020w,\n/static/5d84c276c621319aafaa2ce642602a06/b4ad3/servlet-03.png 1080w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2>spring framework</h2>\n<p>spring framework는 serlvet을 이용하여 웹 개발을 편하게 만들 수 있도록 제공한다. spring framework에서는 <code class=\"language-text\">dispatcher servlet</code>을 통해 웹 요청을 처리하며, 이는 fron controller pattern의 구현체다. 그 외에도 <code class=\"language-text\">handler mapping</code>, <code class=\"language-text\">handler adapter</code>, <code class=\"language-text\">view resolver</code>등 에게 역할을 위임 한다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/1c5a0437923b91ca30636803e27cbab2/b4ad3/servlet-02.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/UlEQVR42oWSXW/TMBiF+zv7E7jkmgvuJ4RA4kMgcQEItCukVaKwFdQJAV2klXVbW1a2pVvTNFmSJrHbOI7tHJx0k7aWj3NhK4r9+LznfSsVLQBVLKSKJc/LFUMvxYNGhHsfI7ROEggxx5RGSHmKLMugcgGphLq8W61c6TpQLWj6QoruiOLR5xAPNdQ4jeEOYnS2fAz3Q7hOAKN+CuP9ULFoCUiTpCoFQ2tA1ONmhifbKfrWDMd2jFffpnje9NDV37/aE2y+6aHbskAoQ3trhK8bpkqifBnIS4efDgN166WJ22+H2DOnyJUsn5Y8w27NRM9wQdMEY2eM8chBp2GjVTtTc1/9veQZEzqjAiRhXjA8bc5wf5PgywHRsQpwIXV2Cpk+M9j3sLczUbq4m8AkoVVCEwTEUTY7gJf1dUs44rlEvRNgo+3jzOc4cnN8OOT4cS5AmMRag+BOLVQ//SUg50lV6Rjs+Fh9nzzDjvMC4TzQXQU4myPTZRZaN0LcfWfjtc61cGqcRNjuBWom/tVlTZY6Eql3lnKMxhNYtosgjPVPCSFlOVLXtDo2+kwJjHyuzvus2MtZI5TCdhxEMbkE3VRRlX58Fci5LIG7R6ZaW6+j1R0g8D1YloWYkMI2pFzcy7HK/YPDBTBkrhrSNjw6xoUXlO68ICidXgHxH+BvJHHcfM/G0lkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='servlet 02' title='' src='/static/1c5a0437923b91ca30636803e27cbab2/ca1dc/servlet-02.png' srcset='/static/1c5a0437923b91ca30636803e27cbab2/e7570/servlet-02.png 170w,\n/static/1c5a0437923b91ca30636803e27cbab2/f46e7/servlet-02.png 340w,\n/static/1c5a0437923b91ca30636803e27cbab2/ca1dc/servlet-02.png 680w,\n/static/1c5a0437923b91ca30636803e27cbab2/02d09/servlet-02.png 1020w,\n/static/1c5a0437923b91ca30636803e27cbab2/b4ad3/servlet-02.png 1080w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>spring MVC에서는 <code class=\"language-text\">dispatcher-servlet.xml</code>을 통해 직접 서블릿 설정이 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n \n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>beans</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>context</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/context<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>mvc</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/mvc<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">mvc:</span>annotation-driven</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">context:</span>component-scan</span> <span class=\"token attr-name\">base-package</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.hipcoding.board.controller<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bean</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prefix<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/WEB-INF/views/<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>suffix<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>.jsp<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bean</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>beans</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>spring boot는 내부적으로 내장 tomcat을 가지고 있다. 즉 spring boot가 실행되면서 내부적으로 tomcat(servlet container)이 실행된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2023-03-08 10:50:42.413  INFO 11287 --- [(2)-172.30.1.48] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-03-08 10:50:42.413  INFO 11287 --- [(2)-172.30.1.48] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-03-08 10:50:42.416  INFO 11287 --- [(2)-172.30.1.48] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms</code></pre></div>\n<h2>결론</h2>\n<p>spring boot로 개발하다보면 dispatcher servlet을 직접 건드릴 일이 사실상 없다. 그러다보면 자연스럽게 servlet에 대한 개념을 잊고 개발하기 십상이다.</p>\n<blockquote>\n<p>아무리 웹 개발 프레임워크가 좋아졌지만, 서블릿은 여전히 HTTP 웹 어플리케이션 개발의 핵심이다.</p>\n</blockquote>\n<h2></h2>\n<hr>\n<h3></h3>\n<ul>\n<li><a href=\"https://erainnovator.com/servlet-life-cycle/\">https://erainnovator.com/servlet-life-cycle/</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.RC2/spring-framework-reference/html/ch15s02.html\">https://docs.spring.io/spring-framework/docs/3.0.0.RC2/spring-framework-reference/html/ch15s02.html</a></li>\n<li><a href=\"https://terasolunaorg.github.io/guideline/5.0.1.RELEASE/en/Overview/SpringMVCOverview.html#overview-of-spring-mvc-processing-sequence\">https://terasolunaorg.github.io/guideline/5.0.1.RELEASE/en/Overview/SpringMVCOverview.html#overview-of-spring-mvc-processing-sequence</a></li>\n</ul>","frontmatter":{"title":"spring servelt은 무엇인가?","date":"July 05, 2023","update":"July 05, 2023","tags":["spring","servelt"],"series":"spring"},"fields":{"slug":"/servelt/","readingTime":{"minutes":4.055}}},"seriesList":{"edges":[{"node":{"id":"da7bb81c-8024-55a1-a172-21b5d4193cf0","fields":{"slug":"/spring-transactional/"},"frontmatter":{"title":"spring @Transactional 조금더 알아보기"}}},{"node":{"id":"0f7d0451-d8d6-57f3-b8ad-ab49d52a1da8","fields":{"slug":"/servelt/"},"frontmatter":{"title":"spring servelt은 무엇인가?"}}},{"node":{"id":"12484624-47ce-513a-b74f-0e699c275f52","fields":{"slug":"/srping-aop/"},"frontmatter":{"title":"spring AOP의 proxy"}}}]},"previous":{"fields":{"slug":"/http-protocol/"},"frontmatter":{"title":"HTTP 프로토콜 진화 과정"}},"next":{"fields":{"slug":"/high-traffic/"},"frontmatter":{"title":"말도 많고 탈도 많은 대용량 트래픽는 대체 어떻게 처리할까?"}}},"pageContext":{"id":"0f7d0451-d8d6-57f3-b8ad-ab49d52a1da8","series":"spring","previousPostId":"fd12c43f-bc04-581f-8e37-6ae38bdf515b","nextPostId":"af219d10-dc7c-5b02-ad7d-f7f3318376b8"}},"staticQueryHashes":[],"slicesMap":{}}